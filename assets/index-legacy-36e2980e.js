System.register(["./index-legacy-d2cc8610.js","./adaptHtmlElementAsync-legacy-045144b1.js"],(function(t,e){"use strict";var s,n,a,l,i,o,r,c,u,p,d,f,v,g,_,m,b,T,E,y,h,S,C,x,I,P,k,A,L,w,N,O,G,R,F,B,U,D,M,$,j,H,z,V,X,q;return{setters:[t=>{s=t.d,n=t.h,a=t.v,l=t.x,i=t.n,o=t.y,r=t.z,c=t.g,u=t.c,p=t.M,d=t.S,f=t.A,v=t.U,g=t.B,_=t.C,m=t.D,b=t.E,T=t.F,E=t.G,y=t.H,h=t.u,S=t.I,C=t.J,x=t.b,I=t.K,P=t.L,k=t.N,A=t.k,L=t.a,w=t.l,N=t.p,O=t.q,G=t.O,R=t.t,F=t.o,B=t.s,U=t.w,D=t.R,M=t.i,$=t.P,j=t.r,H=t.j},t=>{z=t.$,V=t._,X=t.Z,q=t.a0}],execute:function(){const e=i(s({__name:"AdaptContainer",props:{contentToAdapt:null,settings:null,scope:{default:"preview"},adaptHtmlElementAsync:null},setup(t){const e=t,s=n(!0),i=n(),o=async()=>{i.value&&e.contentToAdapt&&e.adaptHtmlElementAsync&&(i.value.innerHTML=e.contentToAdapt,(await e.adaptHtmlElementAsync)(i.value,e.settings,e.scope),s.value=!1)};return a((()=>({...e,containerElement:i})),o,{deep:!0,flush:"post"}),l((()=>z(e.scope))),{__sfc:!0,props:e,isLoading:s,containerElement:i,adaptContent:o}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",[s.isLoading?[e("div",{staticClass:"flex h-full flex-col content-center items-center"},[e("div",{staticClass:"text-xl"},[t._v(t._s(t.$t("LOADING"))+"...")])])]:t._e(),e("div",{class:{"opacity-50":s.isLoading}},[e("div",{ref:"containerElement"})])],2)}),[],!1,null,null,null,null).exports,W=i(s({__name:"PreviewContainer",props:{contentToAdapt:null},emits:["update"],setup(t,{emit:e}){const s=n(),a=n(!0);return{__sfc:!0,emit:e,textToAdaptElement:s,isReading:a,onRead:()=>{a.value=!0;const t=o(s).value;/\S/.test(t)&&e("update",t)},onEdit:()=>{a.value=!1,setTimeout((()=>s.value?.focus()))}}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{class:{"p-3":!s.isReading}},[e("textarea",{ref:"textToAdaptElement",staticClass:"textarea mx-2 max-h-full w-full",attrs:{rows:"5",hidden:s.isReading},domProps:{value:t.contentToAdapt},on:{blur:s.onRead}}),s.isReading?e("div",{staticClass:"m-px cursor-pointer hover:outline-1 hover:outline-gray-200 hover:outline",on:{click:s.onEdit}},[t._t("default",(function(){return[e("div",{domProps:{innerHTML:t._s(t.contentToAdapt)}})]}))],2):t._e()])}),[],!1,null,null,null,null).exports,Y=i(s({__name:"TextAdaptationPreview",props:{settings:null},setup(t){const s=t,{text:a,updateText:l}=function(t){const e=n("");return r((()=>{e.value=c(t.value).textPreview})),{text:e,updateText:t=>e.value=t}}(u((()=>s.settings.language)));return{__sfc:!0,props:s,text:a,updateText:l,AdaptContainer:e,PreviewContainer:W,adaptHtmlElementAsyncFn:V}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e(s.PreviewContainer,{attrs:{"content-to-adapt":s.text},on:{update:s.updateText}},[e(s.AdaptContainer,{attrs:{"adapt-html-element-async":s.adaptHtmlElementAsyncFn(),"content-to-adapt":t.$sanitize("<p>"+s.text+"</p>"),settings:t.settings}})],1)}),[],!1,null,null,null,null).exports;function J(t){var e=-1,s=null==t?0:t.length;for(this.__data__=new p;++e<s;)this.add(t[e])}function Z(t,e){for(var s=-1,n=null==t?0:t.length;++s<n;)if(e(t[s],s,t))return!0;return!1}function K(t,e,s,n,a,l){var i=1&s,o=t.length,r=e.length;if(o!=r&&!(i&&r>o))return!1;var c=l.get(t),u=l.get(e);if(c&&u)return c==e&&u==t;var p=-1,d=!0,f=2&s?new J:void 0;for(l.set(t,e),l.set(e,t);++p<o;){var v=t[p],g=e[p];if(n)var _=i?n(g,v,p,e,t,l):n(v,g,p,t,e,l);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!Z(e,(function(t,e){if(i=e,!f.has(i)&&(v===t||a(v,t,s,n,l)))return f.push(e);var i}))){d=!1;break}}else if(v!==g&&!a(v,g,s,n,l)){d=!1;break}}return l.delete(t),l.delete(e),d}function Q(t){var e=-1,s=Array(t.size);return t.forEach((function(t,n){s[++e]=[n,t]})),s}function tt(t){var e=-1,s=Array(t.size);return t.forEach((function(t){s[++e]=t})),s}J.prototype.add=J.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},J.prototype.has=function(t){return this.__data__.has(t)};var et=d?d.prototype:void 0,st=et?et.valueOf:void 0,nt=Object.prototype.hasOwnProperty,at="[object Arguments]",lt="[object Array]",it="[object Object]",ot=Object.prototype.hasOwnProperty;function rt(t,e,s,n,a,l){var i=_(t),o=_(e),r=i?lt:m(t),c=o?lt:m(e),u=(r=r==at?it:r)==it,p=(c=c==at?it:c)==it,d=r==c;if(d&&b(t)){if(!b(e))return!1;i=!0,u=!1}if(d&&!u)return l||(l=new T),i||E(t)?K(t,e,s,n,a,l):function(t,e,s,n,a,l,i){switch(s){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new v(t),new v(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var o=Q;case"[object Set]":var r=1&n;if(o||(o=tt),t.size!=e.size&&!r)return!1;var c=i.get(t);if(c)return c==e;n|=2,i.set(t,e);var u=K(o(t),o(e),n,a,l,i);return i.delete(t),u;case"[object Symbol]":if(st)return st.call(t)==st.call(e)}return!1}(t,e,r,s,n,a,l);if(!(1&s)){var y=u&&ot.call(t,"__wrapped__"),h=p&&ot.call(e,"__wrapped__");if(y||h){var S=y?t.value():t,C=h?e.value():e;return l||(l=new T),a(S,C,s,n,l)}}return!!d&&(l||(l=new T),function(t,e,s,n,a,l){var i=1&s,o=g(t),r=o.length;if(r!=g(e).length&&!i)return!1;for(var c=r;c--;){var u=o[c];if(!(i?u in e:nt.call(e,u)))return!1}var p=l.get(t),d=l.get(e);if(p&&d)return p==e&&d==t;var f=!0;l.set(t,e),l.set(e,t);for(var v=i;++c<r;){var _=t[u=o[c]],m=e[u];if(n)var b=i?n(m,_,u,e,t,l):n(_,m,u,t,e,l);if(!(void 0===b?_===m||a(_,m,s,n,l):b)){f=!1;break}v||(v="constructor"==u)}if(f&&!v){var T=t.constructor,E=e.constructor;T==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof T&&T instanceof T&&"function"==typeof E&&E instanceof E||(f=!1)}return l.delete(t),l.delete(e),f}(t,e,s,n,a,l))}function ct(t,e,s,n,a){return t===e||(null==t||null==e||!y(t)&&!y(e)?t!=t&&e!=e:rt(t,e,s,n,ct,a))}const ut=i(s({__name:"TextProfileEditDropdown",props:{value:null,settings:null},emits:["input"],setup(t,{emit:e}){const s=t,{preferences:n,getProfileById:a}=h(),{value:l,settings:i}=S(s),{t:o}=C(),r=()=>{const t=l.value?a(l.value)?.settings:x("en");return!(!t||!function(t,e){return ct(t,e)}(t,i.value))||confirm(o("SETTINGS.PROFILE_UNSAVED_CHANGES"))};return{__sfc:!0,preferences:n,getProfileById:a,props:s,value:l,settings:i,emit:e,onChange:t=>{if(r()){const s=t.target.value?parseInt(t.target.value):null;e("input",s)}else t.target.value=String(s.value??"")},t:o,validateUnsavedChanges:r}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("select",{staticClass:"select-secondary select select-sm",domProps:{value:s.value},on:{change:s.onChange}},[e("option",{attrs:{value:""}},[t._v(t._s(s.t("SETTINGS.PROFILE_NEW")))]),t._l(s.preferences.profiles,(function({name:s,id:n}){return e("option",{key:n,domProps:{value:n}},[t._v(" "+t._s(s)+" ")])}))],2)}),[],!1,null,null,null,null).exports,pt=i(s({__name:"TextProfileSaveButton",props:{value:null,settings:null},emits:["input"],setup(t,{emit:e}){const s=t,{preferences:n,createProfile:a,updateProfile:l}=h(),{t:i}=C(),o=()=>{l(s.value,{settings:s.settings}),alert(i("SETTINGS.PROFILE_UPDATED"))},r=async()=>{if(20===n.profiles.length)return void alert(i("SETTINGS.PROFILES_MAX"));const t=prompt(i("SETTINGS.PROFILE_GIVE_NAME"));if(!t)return;if(c(t))return void alert(i("SETTINGS.PROFILE_NAME_EXISTS",{name:t}));const l=a({settings:s.settings,name:t});await I(),e("input",l),alert(i("SETTINGS.PROFILE_CREATED"))},c=t=>n.profiles.some((({name:e})=>e===t));return{__sfc:!0,props:s,emit:e,onClick:()=>s.value?o():r(),preferences:n,createProfile:a,updateProfile:l,t:i,update:o,create:r,profileNameExists:c,BButton:X}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e(s.BButton,{attrs:{"data-test-id":"save",size:"sm",variant:"primary"},on:{click:s.onClick}},[t._v(" "+t._s(t.$t("SETTINGS.SAVE"))+" ")])}),[],!1,null,null,null,null).exports,dt=i(s({__name:"TextProfileRenameButton",props:{profileId:null},setup(t){const e=t,{preferences:s,updateProfile:n,getProfileById:a}=h(),{t:l}=C(),i=t=>!s.profiles.some((({name:s,id:n})=>n!==e.profileId&&s===t));return{__sfc:!0,preferences:s,updateProfile:n,getProfileById:a,props:e,t:l,onClick:()=>{let t="";e.profileId&&(t=a(e.profileId).name);const s=prompt(l("SETTINGS.PROFILE_RENAME_TO"),t);s&&(i(s)?(n(e.profileId,{name:s}),alert(l("SETTINGS.PROFILE_RENAMED"))):alert(l("SETTINGS.PROFILE_NAME_EXISTS",{name:s})))},isNameUnique:i,SvgIcon:P}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return s.props.profileId?e("button",{staticClass:"btn-outline btn-secondary btn-sm btn",attrs:{title:s.t("SETTINGS.PROFILE_RENAME")},on:{click:s.onClick}},[e(s.SvgIcon,{staticClass:"h-4 w-4 fill-current",attrs:{id:"edit"}})],1):t._e()}),[],!1,null,null,null,null).exports,ft=i(s({__name:"TextProfileDeleteButton",props:{value:null},emits:["input"],setup(t,{emit:e}){const s=t,{deleteProfile:n}=h(),{t:a}=C();return{__sfc:!0,props:s,emit:e,deleteProfile:n,t:a,onClick:async()=>{confirm(a("SETTINGS.PROFILE_DELETE_CONFIRM"))&&(n(s.value),e("input",null),alert(a("SETTINGS.PROFILE_DELETED")))}}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return t.value?e("button",{staticClass:"btn-warning btn-sm btn",attrs:{"data-test-id":"delete"},on:{click:s.onClick}},[t._v(t._s(t.$t("SETTINGS.DELETE")))]):t._e()}),[],!1,null,null,null,null).exports,vt=i(s({__name:"BaseTabs",props:{names:null,value:null},emits:["input"],setup:(t,{emit:e})=>({__sfc:!0,props:t,emit:e,emitInput:t=>e("input",t)})}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"tabs"},t._l(s.props.names,(function(n,a){return e("div",{key:a,staticClass:"tab tab-bordered tab-lg",class:{"tab-active":a===t.value},attrs:{"data-test-id":"tab"},on:{click:function(t){return s.emitInput(a)}}},[t._v(" "+t._s(n)+" ")])})),0)}),[],!1,null,null,null,null).exports,gt=i(s({__name:"ColorPicker",props:{value:{default:""},colors:{default:()=>L}},emits:["selectColor"],setup(t,{emit:e}){const s=n(!1),a=()=>s.value=!1;return{__sfc:!0,emit:e,isModalOpened:s,openModal:()=>s.value=!0,closeModal:a,selectColor:t=>{a(),e("selectColor",t)},colors:L,SvgIcon:P}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",[e("button",{staticClass:"btn-ghost btn",attrs:{"data-test-id":"main-button"},on:{click:s.openModal}},[t.value?e("div",{staticClass:"h-8 w-8 rounded-full",style:{backgroundColor:t.value},attrs:{"data-test-id":"colored-icon"}}):e(s.SvgIcon,{staticClass:"h-8 w-8",attrs:{id:"forbidden","data-test-id":"missing-color-icon"}})],1),e("div",{staticClass:"modal",class:{"modal-open":s.isModalOpened},attrs:{"data-test-id":"modal"}},[e("div",{staticClass:"modal-box relative"},[e("label",{staticClass:"btn-sm btn-circle btn absolute right-2 top-2",on:{click:s.closeModal}},[t._v("âœ•")]),e("div",{staticClass:"flex flex-wrap"},[t._l(s.colors,(function(n){return[e("button",{key:n,staticClass:"btn-circle btn m-2",class:{"outline outline-offset-2 outline-4 outline-black":n===t.value},style:{backgroundColor:`${n}`},attrs:{"data-test-id":"color-button"},on:{click:function(t){return s.selectColor(n)}}})]})),e("button",{staticClass:"btn-ghost btn-circle btn m-2",class:{"outline outline-offset-2 outline-4 outline-black":!t.value},attrs:{"data-test-id":"missing-color-button"},on:{click:function(t){return s.selectColor()}}},[e(s.SvgIcon,{staticClass:"h-full w-full",attrs:{id:"forbidden"}})],1)],2)])])])}),[],!1,null,null,null,null).exports,_t=i(s({__name:"BaseSelect",props:{value:null,options:null},emits:["input"],setup:(t,{emit:e})=>({__sfc:!0,emit:e,onChange:t=>{e("input",t.target.value)}})}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("select",{staticClass:"select",domProps:{value:t.value},on:{change:s.onChange}},t._l(t.options,(function({value:s,text:n}){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(n))])})),0)}),[],!1,null,null,null,null).exports,mt=i(s({__name:"SelectPercentage",props:{options:null,value:null},emits:["input"],setup(t,{emit:e}){const s=t,n=u((()=>{const t=s.options.findIndex((t=>t.value===s.value));return-1===t?0:t})),a=u((()=>s.options[n.value].text)),l=u((()=>n.value>0)),i=u((()=>n.value<s.options.length-1)),{t:o}=C();return{__sfc:!0,props:s,emit:e,currentIndex:n,currentValue:a,hasLessOptions:l,hasMoreOptions:i,onMinus:()=>{if(l.value){const t=s.options[n.value-1].value;e("input",t)}},onPlus:()=>{if(i.value){const t=s.options[n.value+1].value;e("input",t)}},t:o,SvgIcon:P}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"flex items-center justify-between"},[e("button",{staticClass:"btn-ghost btn",class:{"bg-transparent btn-disabled":!s.hasLessOptions},attrs:{"data-test-id":"btn-minus"},on:{click:s.onMinus}},[e(s.SvgIcon,{staticClass:"h-6 w-6 fill-current",attrs:{id:"minus"}})],1),e("div",{staticClass:"w-28 text-center font-semibold",attrs:{"data-test-id":"value"}},[t._v(t._s(s.t(s.currentValue)))]),e("button",{staticClass:"btn-ghost btn",class:{"bg-transparent btn-disabled":!s.hasMoreOptions},attrs:{"data-test-id":"btn-plus"},on:{click:s.onPlus}},[e(s.SvgIcon,{staticClass:"h-6 w-6 fill-current",attrs:{id:"plus"}})],1)])}),[],!1,null,null,null,null).exports,bt=i(s({__name:"TextProfileFormGeneralTab",props:{settings:null},emits:["change-language","update"],setup(t,{emit:e}){const s=t,l=({key:t,value:s})=>e("update",{key:t,value:s}),i=()=>s.settings.shadeAlternateLinesActive?w.slice(1):w,o=n(i());return a((()=>s.settings.shadeAlternateLinesActive),(()=>{o.value=i(),o.value.length!==w.length&&s.settings.lineSpacing===w[0].value&&l({key:"lineSpacing",value:o.value[0].value})})),{__sfc:!0,props:s,emit:e,emitUpdate:l,emitUpdateToggled:({key:t})=>{e("update",{key:t,value:!s.settings[t]})},changeLanguage:t=>e("change-language",t),optimizeLineSpacingOptions:i,lineSpacingOptionsOptimized:o,fontFamilyOptions:N,fontSizeOptions:O,languageOptions:G,letterSpacingOptions:R,opacityOptions:F,silentLetterOpacityOptions:B,wordSpacingOptions:U,ColorPicker:gt,RangeBar:D,BaseSelect:_t,SelectPercentage:mt}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"relative h-general-settings overflow-scroll"},[e("table",{staticClass:"table w-full"},[e("thead",[e("tr",[e("th",{staticClass:"sticky top-0"}),e("th",{staticClass:"sticky top-0"}),e("th",{staticClass:"sticky top-0 whitespace-normal"},[t._v(t._s(t.$t("GENERAL.SETTING")))]),e("th",{staticClass:"sticky top-0 whitespace-normal"},[t._v(t._s(t.$t("GENERAL.OPACITY")))]),e("th",{staticClass:"sticky top-0 whitespace-normal"},[t._v(t._s(t.$t("GENERAL.ACTIVATE")))])])]),e("tbody",[e("tr",[e("td",{staticClass:"whitespace-normal font-bold"},[t._v(t._s(t.$t("GENERAL.PROFILE_LANGUAGE")))]),e("td"),e("td",[e(s.BaseSelect,{staticClass:"select-secondary select select-sm w-full",attrs:{options:s.languageOptions,value:t.settings.language},on:{input:function(t){return s.changeLanguage(t)}}})],1),e("td"),e("td")]),e("tr",[e("td",{staticClass:"whitespace-normal font-bold",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("GENERAL.FONT_SETTINGS"))+" ")]),e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.FONT")))]),e("td",[e(s.BaseSelect,{staticClass:"select-secondary select select-sm w-full",attrs:{options:s.fontFamilyOptions,value:t.settings.fontFamily},on:{input:function(t){return s.emitUpdate({key:"fontFamily",value:t})}}})],1),e("td"),e("td")]),e("tr",[e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.FONT_SIZE")))]),e("td",[e(s.SelectPercentage,{staticClass:"w-full",attrs:{options:s.fontSizeOptions,value:t.settings.fontSize},on:{input:function(t){return s.emitUpdate({key:"fontSize",value:t})}}})],1),e("td"),e("td")]),e("tr",[e("td",{staticClass:"whitespace-normal font-bold",attrs:{rowspan:"3"}},[t._v(" "+t._s(t.$t("GENERAL.SPACING"))+" ")]),e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.LETTER_SPACING")))]),e("td",[e(s.SelectPercentage,{attrs:{options:s.letterSpacingOptions,value:t.settings.letterSpacing},on:{input:function(t){return s.emitUpdate({key:"letterSpacing",value:t})}}})],1),e("td"),e("td")]),e("tr",[e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.WORD_SPACING")))]),e("td",[e(s.SelectPercentage,{attrs:{options:s.wordSpacingOptions,value:t.settings.wordSpacing},on:{input:function(t){return s.emitUpdate({key:"wordSpacing",value:t})}}})],1),e("td"),e("td")]),e("tr",[e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.LINE_SPACING")))]),e("td",[e(s.SelectPercentage,{attrs:{options:s.lineSpacingOptionsOptimized,value:t.settings.lineSpacing},on:{input:function(t){return s.emitUpdate({key:"lineSpacing",value:t})}}})],1),e("td"),e("td")]),e("tr",[e("td",{staticClass:"whitespace-normal font-bold",attrs:{rowspan:"fr"===t.settings.language?3:2}},[t._v(" "+t._s(t.$t("GENERAL.TEXT_HINTS"))+" ")]),e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.HIGHLIGHT_ALTERNATING_SYLLABLES")))]),e("td",[e("div",{staticClass:"flex justify-center"},[e(s.ColorPicker,{staticClass:"m-1",attrs:{value:t.settings.syllableColor1},on:{selectColor:function(t){return s.emitUpdate({key:"syllableColor1",value:t})}}}),e(s.ColorPicker,{staticClass:"m-1",attrs:{value:t.settings.syllableColor2},on:{selectColor:function(t){return s.emitUpdate({key:"syllableColor2",value:t})}}})],1)]),e("td",[e(s.RangeBar,{attrs:{value:t.settings.syllableOpacity,options:s.opacityOptions},on:{input:function(t){return s.emitUpdate({key:"syllableOpacity",value:t})}}})],1),e("td",[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.settings.syllableActive},on:{input:function(t){return s.emitUpdateToggled({key:"syllableActive"})}}})])]),"fr"===t.settings.language?e("tr",[e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.SHOW_LIAISONS")))]),e("td"),e("td",[e(s.RangeBar,{staticClass:"w-52",attrs:{disabled:"en"===t.settings.language,value:t.settings.liaisonsOpacity,options:s.opacityOptions},on:{input:function(t){return s.emitUpdate({key:"liaisonsOpacity",value:t})}}})],1),e("td",[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.settings.liaisonsActive},on:{input:function(t){return s.emitUpdateToggled({key:"liaisonsActive"})}}})])]):t._e(),e("tr",[e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.GREY_SILENT_LETTERS")))]),e("td"),e("td",[e(s.RangeBar,{staticClass:"w-52",attrs:{value:t.settings.silentLetterOpacity,options:s.silentLetterOpacityOptions},on:{input:function(t){return s.emitUpdate({key:"silentLetterOpacity",value:t})}}})],1),e("td",[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.settings.silentLetterActive},on:{input:function(t){return s.emitUpdateToggled({key:"silentLetterActive"})}}})])]),e("tr",[e("td",{staticClass:"whitespace-normal font-bold"},[t._v(t._s(t.$t("GENERAL.READING_TOOLS")))]),e("td",{staticClass:"whitespace-normal"},[t._v(t._s(t.$t("GENERAL.SHADE_ALTERNATE_LINES")))]),e("td"),e("td",[e(s.RangeBar,{staticClass:"w-52",attrs:{value:t.settings.shadeAlternateLinesOpacity,options:s.opacityOptions},on:{input:function(t){return s.emitUpdate({key:"shadeAlternateLinesOpacity",value:t})}}})],1),e("td",[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.settings.shadeAlternateLinesActive},on:{input:function(t){return s.emitUpdateToggled({key:"shadeAlternateLinesActive"})}}})])])])])])}),[],!1,null,null,null,null).exports,Tt=s({__name:"TextProfileFormItemsTab",props:{tableLabel:null,switchAllLabel:null,allItemsActive:{type:Boolean},items:null,options:null},emits:["update-items","update-active"],setup(t,{emit:e}){const s=t,n=t=>e("update-items",t),{t:a}=C(),l=u((()=>[{key:"value",label:a(s.tableLabel)},{key:"example",label:a("SETTINGS.EXAMPLE")},{key:"color",label:a("SETTINGS.TEXT_COLOR")},{key:"bold",label:a("SETTINGS.BOLD")},{key:"activate",label:a("SETTINGS.ACTIVATE")}])),i=u((()=>s.items.map((t=>{const e=q(s.options,t);return{...t,example:e}}))));return{__sfc:!0,props:s,emit:e,updateOption:n,switchAllItems:t=>{const s=t.target.checked;e("update-active",s)},t:a,tableFields:l,tableItems:i,switchBold:t=>{const e=s.items.slice(),a=e.findIndex((({key:e})=>e===t));if(-1===a)return;const l=e[a];e[a]={...l,bold:!l.bold},n(e)},switchActive:t=>{const e=s.items.slice(),a=e.findIndex((({key:e})=>e===t));if(-1===a)return;const l=e[a];e[a]={...l,active:!l.active},n(e)},setColor:(t,e)=>{const a=s.items.slice(),l=a.findIndex((({key:e})=>e===t));if(-1===l)return;const i=a[l];a[l]={...i,color:e},n(a)},ColorPicker:gt}}}),Et=i(Tt,(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"w-full"},[e("label",{staticClass:"inline-block cursor-pointer py-4"},[e("input",{staticClass:"toggle mr-3 align-middle",attrs:{type:"checkbox"},domProps:{checked:t.allItemsActive},on:{input:s.switchAllItems}}),t._v(" "+t._s(s.t(t.switchAllLabel))+" ")]),e("div",{staticClass:"relative h-items-settings overflow-scroll"},[e("table",{staticClass:"table-zebra table-compact table w-full"},[e("thead",[e("tr",t._l(s.tableFields,(function({key:s,label:n}){return e("th",{key:s,staticClass:"sticky top-0"},[t._v(t._s(n))])})),0)]),e("tbody",t._l(s.tableItems,(function(n){return e("tr",{key:n.key},t._l(s.tableFields,(function({key:a}){return e("td",{key:a,staticClass:"text-base"},["value"===a?[e("div",[t._v(t._s(n.value))])]:"example"===a?[e("div",{domProps:{innerHTML:t._s(n.example)}})]:"color"===a?[e(s.ColorPicker,{attrs:{value:n.color},on:{selectColor:function(t){return s.setColor(n.key,t)}}})]:"bold"===a?[e("input",{staticClass:"checkbox checkbox-sm",attrs:{type:"checkbox"},domProps:{checked:n.bold},on:{change:function(t){return s.switchBold(n.key)}}})]:"activate"===a?[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:n.active},on:{change:function(t){return s.switchActive(n.key)}}})]:t._e()],2)})),0)})),0)])])])}),[],!1,null,null,null,null).exports,yt=i(s({__name:"TextProfileForm",props:{settings:null},emits:["update-settings","set-language"],setup(t,{emit:e}){const s=t,{t:a}=C(),l=[a("SETTINGS.GENERAL_SETTINGS"),a("SETTINGS.PHONEME_SETTINGS"),a("SETTINGS.LETTER_SETTINGS")],i=n(0),o=u((()=>c(s.settings.language)));return{__sfc:!0,props:s,t:a,tabNames:l,activeTabIndex:i,emit:e,emitUpdateSettings:t=>e("update-settings",t),emitChangeLanguage:t=>e("change-language",t),languageConfig:o,BaseTabs:vt,TextProfileFormGeneralTab:bt,TextProfileFormItemsTab:Et}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",[e(s.BaseTabs,{attrs:{"data-test-id":"tabs",names:s.tabNames},model:{value:s.activeTabIndex,callback:function(t){s.activeTabIndex=t},expression:"activeTabIndex"}}),0===s.activeTabIndex?e(s.TextProfileFormGeneralTab,{key:"general",attrs:{settings:t.settings,"data-test-id":"general"},on:{update:function(t){return s.emitUpdateSettings(t)},"change-language":function(t){return s.emitChangeLanguage(t)}}}):t._e(),1===s.activeTabIndex?e(s.TextProfileFormItemsTab,{key:"phonemes",attrs:{"all-items-active":t.settings.phonemesActive,items:t.settings.phonemes,options:s.languageConfig.phonemeOptions,"table-label":"SETTINGS.PHONEME","switch-all-label":"SETTINGS.ALL_PHONEMES_SETTINGS","data-test-id":"phonemes"},on:{"update-items":function(t){return s.emitUpdateSettings({key:"phonemes",value:t})},"update-active":function(t){return s.emitUpdateSettings({key:"phonemesActive",value:t})}}}):t._e(),2===s.activeTabIndex?e(s.TextProfileFormItemsTab,{key:"letters",attrs:{"all-items-active":t.settings.lettersActive,items:t.settings.letters,options:s.languageConfig.letterOptions,"table-label":"SETTINGS.LETTER","switch-all-label":"SETTINGS.ALL_LETTERS_SETTINGS","data-test-id":"letters"},on:{"update-items":function(t){return s.emitUpdateSettings({key:"letters",value:t})},"update-active":function(t){return s.emitUpdateSettings({key:"lettersActive",value:t})}}}):t._e()],1)}),[],!1,null,null,null,null).exports,ht=i(s({__name:"TextSettingsFileDownload",props:{settings:null},setup(t){const e=t,s=u((()=>`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e.settings,null,2))}`));return{__sfc:!0,props:e,settingsFile:s}}}),(function(){var t=this;return(0,t._self._c)("a",{staticClass:"btn-secondary btn-ghost btn-sm btn",attrs:{href:t._self._setupProxy.settingsFile,"data-test-id":"anchor",download:"settings.json",target:"_blank"}},[t._v(t._s(t.$t("SETTINGS.DOWNLOAD_SETTINGS")))])}),[],!1,null,null,null,null).exports;t("OptionsPage",i(s({__name:"OptionsPage",setup(t){const e=M(),{preferences:s}=h(),a=n(null);$((()=>{"editActiveProfile"in e.currentRoute.query?a.value=s.activeProfileId:"profileId"in e.currentRoute.query&&(a.value=parseInt(e.currentRoute.query.profileId))}));const{settings:l,changeLanguage:i,updateSettings:o}=function(t){const e=n(),s=n("en"),{getProfileById:a}=h(),l=u((()=>e.value[s.value]));return r((()=>{if(e.value=k(),s.value="en",t.value){const n=a(t.value);if(n){const{settings:t}=n;e.value[t.language]=A(t),s.value=t.language}}})),{settings:l,changeLanguage:t=>s.value=t,updateSettings:({key:t,value:e})=>{l.value[t]=e}}}(a);return{__sfc:!0,router:e,preferences:s,selectedProfiledId:a,settings:l,changeLanguage:i,updateSettings:o,close:async()=>await H.closeCurrentTab(),CloseSettings:j.CloseSettings,TextProfileEditDropdown:ut,TextProfileSaveButton:pt,TextAdaptationPreview:Y,TextProfileRenameButton:dt,TextProfileDeleteButton:ft,TextProfileForm:yt,TextSettingsFileDownload:ht}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"m-auto max-w-screen-lg p-2"},[e("div",{staticClass:"mb-2 flex items-center bg-base-100"},[e("div",{staticClass:"mr-4 text-2xl font-semibold"},[t._v(t._s(t.$t("SETTINGS.PROFILE"))+":")]),e(s.TextProfileEditDropdown,{staticClass:"w-60",attrs:{settings:s.settings},model:{value:s.selectedProfiledId,callback:function(t){s.selectedProfiledId=t},expression:"selectedProfiledId"}}),e(s.TextProfileRenameButton,{staticClass:"ml-3",attrs:{"profile-id":s.selectedProfiledId}}),e(s.TextSettingsFileDownload,{staticClass:"ml-auto",attrs:{settings:s.settings}})],1),e("div",{staticClass:"flex"},[e(s.TextProfileForm,{staticClass:"w-2/3 min-w-[850px]",attrs:{settings:s.settings},on:{"update-settings":s.updateSettings,"change-language":s.changeLanguage}}),e("div",{staticClass:"flex w-1/3 flex-1 flex-col pl-4 pt-10"},[e("div",{staticClass:"text-2xl font-semibold"},[t._v(t._s(t.$t("SETTINGS.TEXT_PREVIEW")))]),e(s.TextAdaptationPreview,{staticClass:"h-items-settings overflow-scroll",attrs:{settings:s.settings}}),e("div",{staticClass:"mt-auto flex flex-wrap justify-between"},[e(s.TextProfileSaveButton,{attrs:{settings:s.settings},model:{value:s.selectedProfiledId,callback:function(t){s.selectedProfiledId=t},expression:"selectedProfiledId"}}),e(s.TextProfileDeleteButton,{staticClass:"ml-3 mr-auto",model:{value:s.selectedProfiledId,callback:function(t){s.selectedProfiledId=t},expression:"selectedProfiledId"}}),e(s.CloseSettings,{attrs:{"is-settings-dirty":!1},on:{"close-settings":s.close}})],1)],1)],1)])}),[],!1,null,null,null,null).exports)}}}));
